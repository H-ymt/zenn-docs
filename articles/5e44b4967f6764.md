---
title: "Next.jsでZennの記事をAPIで取得する"
emoji: "🐕"
type: "tech"
topics:
  - "nextjs"
  - "react"
  - "jamstack"
published: true
published_at: "2023-09-07 00:23"
---

## 概要
個人ポートフォリオにZennの記事を掲載したときのメモ

## Zennの記事を取得するAPI
Zennの記事は以下のAPIから取得できます。

`https://zenn.dev/api/articles?username=(ユーザーID)&order=latest`

## ソースコード
コードは以下のとおりです。

```tsx:BlogList.tsx
interface Post {
  id: number;
  path: string;
  emoji: string;
  title: string;
  published_at: string;
}

export default async function BlogList() {
  const res = await fetch(
    'https://zenn.dev/api/articles?username=(ユーザーID)&order=latest',
  );
  const data = await res.json();
  const posts: Post[] = data.articles.slice(0, 10);

  return (
    <>
      <ul>
        {posts.map((post) => (
          <li key={post.id}>
            <Link
              href={`https://zenn.dev/${post.path}`}
              target="blank"
            >
              <span>{post.emoji}</span>
              <p>
                {post.title}
              </p>
              <p>
                <ConvertDate convertDate={post.published_at} />
              </p>
            </Link>
          </li>
        ))}
      </ul>
    </>
  );
}
```

```tsx:ConvertDate.tsx
import dayjs from 'dayjs';

type Props = {
  convertDate: string | number | Date;
};

export default function ConvertDate({ convertDate }: Props) {
  const publishedAt = dayjs(convertDate).format('YYYY/MM/DD/');

  return <time dateTime={convertDate.toString()}>{publishedAt}</time>;
}
```

## 課題
今の状態ではZennの記事を追加してもサイト側には表示されないので、ZennとGitHubを連携して、新しい記事を追加するたびにWebページ側にも記事が追加されるようにしたい。（いつかやる）

## 実際のサイト
https://h-ymt.com/blog



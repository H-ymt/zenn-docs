---
title: "アクセシビリティを考慮したHTMLコーディング"
emoji: "🙆‍♀️"
type: "tech"
topics:
  - "css"
  - "html"
  - "javascript"
published: true
published_at: "2023-08-21 15:06"
---

## 概要
Webアクセシビリティを考慮したコーディングをするための個人的備忘録です。
※内容は随時更新していきます。

## `img`タグ

### alt属性をつける
`img`タグにはalt属性を必ず設定しましょう。
ちなみにNext.jsではalt属性は必須です。

:::message
* 基本的には画像の内容をalt属性に設定する
* 意味をもたない画像の場合は空の文字列でOK（省略はしない）
:::

alt属性の内容についてはこちらの記事が参考になりました。
https://web-de-asobo.net/2023/03/14/html-img-alt/

## `role`属性
`role`とは日本語で「役割」を意味します。
`role`属性を付与することでWebページに「これはボタンです」など、要素の役割を認識してもらうようにすることができます。
ただ、すべての要素には元から対応している暗黙のロールというものがあり、暗黙的にもっているロールを敢えてrole属性で指定することは非推奨とされているので避けるようにします。（`button`に`role="button"`は設定しない、など）

また、要素によって設定できるものとできないものもあります。

ここでは詳しく解説はしませんが、詳しく知りたい方は次の記事が参考になるのでぜひチェックしてみてください。

https://zenn.dev/yusukehirao/articles/e3512a58df58fd

https://qiita.com/nezurika/items/eac689a97895a27b8791

https://qiita.com/s-kato/items/fc5df9955698222f5436


## `aria-label`属性
`aria-label=""`に指定した値がスクリーンリーダーにそのまま読み上げられます。
`aria-label`は次のような要素に指定してあげましょう。

### ページトップボタン
ボタンを押すとWebサイトの上部まで戻るボタンには`aria-label`属性をつけてスクリーンリーダーに適切に読み上げられるようにしましょう。

```html:index.html
<a href="#" aria-label="ページ上部へ戻る">
 <!--- 省略 -->
</a>
```

### ハンバーガーメニュー
一般的にはグローバルナビゲーションの役割を持つハンバーガーメニューですが、スクリーンリーダーにはどのようなボタンかが伝わりません。

```html:index.html
<button type="button" aria-label="メニューを開く">
 <!--- 省略 -->
</a>
```

## モーダル
Headless UIやRadix UI、Micromodal.jsなどのWebアクセビリティ(a11y)に対応したUIライブラリやプラグインを使用する場合はあまり意識することはないのですが、1からモーダルを自作するときはユーザーがWebサイト・Webアプリを快適に使用できるよう注意する必要があります。

※余談ですが、モーダルを実装する際は基本的なアクセシビリティ面をクリアでき、制作・開発コストを下げるためにもプラグインやライブラリを使って実装するべきだと私は考えています。

### escキーでモーダルが閉じる
ハンバーガーメニューなども同じですが、モーダルはescキーで閉じれるようにしましょう。
これまではJavaScriptでescキーの開閉動作を制御していましたが、`dialog`要素の登場により、JavaScriptの処理を省略することができるようになりました。
モーダルを実装する際は`dialog`要素で実装すると覚えておくと便利です。

### 裏のコンテンツにフォーカスを当てない
モーダルを開いているときにtabキーを押すと、モーダル内のコンテンツでフォーカスが循環するように実装する必要があります。
以下がわかりやすい例です。
https://azukiazusa.dev/blog/fucus-trap-accessible-modal/

`dialog`要素で実装することでこの問題は解決することができます。
ただ、`dialog`要素は古いバージョンのブラウザでは利用不可のことがあるようなので、注意が必要です。

次の記事で詳しく解説されていますので興味のある方はご覧ください。
https://ics.media/entry/220620/


### オーバーレイをクリックでモーダルが閉じる
モーダルを開いている時に、モーダル以外の要素（オーバーレイの部分）をクリックしたときはモーダルが閉じるようにすべきです。
基本的にはJavaScriptで制御することになりますが、次の記事で実装方法が紹介されていますので参考まで。
https://junpei-sugiyama.com/modal/

## スマホで`hover`を無効にする
`hover`スタイルは、スマホ（タッチデバイス）の場合はフォーカス状態のときにあたります。つまり、タッチした後もスタイルがそのまま残り続けるということです。

よくメディアクエリでhoverのon・offを切り替えているのをみかけますが、幅の広いタブレットや幅の狭いPCでは思わぬ挙動をしてしまうため、やめた方がいいです。

マウスかスマホのタッチ操作かの入力手段を区別するために`hover`はすべて次のように記述します。

```css:style.css
@media (hover: hover) {
  a:hover {
    opacity: 0.7;
    transition: ease 0.3s;
  }
}
```
上記の記述でマウス操作のときだけhoverのスタイルがあたることになります。

https://zenn.dev/kagan/articles/css-hover-style

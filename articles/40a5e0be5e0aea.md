---
title: "アクセシビリティを考慮したHTMLコーディング"
emoji: "🙆‍♀️"
type: "tech"
topics:
  - "css"
  - "html"
  - "javascript"
published: true
published_at: "2023-08-21 15:06"
---

## 概要

Web アクセシビリティを考慮したコーディングをするための個人的備忘録です。
※内容は随時更新していきます。

参考記事

https://lifull.github.io/accessibility-guidelines/

## `img`タグ

### alt 属性をつける

`img`タグには alt 属性を必ず設定しましょう。
ちなみに Next.js では alt 属性は必須です。

:::message

- 基本的には画像の内容を alt 属性に設定する
- 意味をもたない画像の場合は空の文字列で OK（省略はしない）
  :::

alt 属性の内容についてはこちらの記事が参考になりました。
https://web-de-asobo.net/2023/03/14/html-img-alt/

## `role`属性

`role`とは日本語で「役割」を意味します。
`role`属性を付与することで Web ページに「これはボタンです」など、要素の役割を認識してもらうようにすることができます。
ただ、すべての要素には元から対応している暗黙のロールというものがあり、暗黙的にもっているロールを敢えて role 属性で指定することは非推奨とされているので避けるようにします。（`button`に`role="button"`は設定しない、など）

また、要素によって設定できるものとできないものもあります。

ここでは詳しく解説はしませんが、詳しく知りたい方は次の記事が参考になるのでぜひチェックしてみてください。

https://zenn.dev/yusukehirao/articles/e3512a58df58fd

https://qiita.com/nezurika/items/eac689a97895a27b8791

https://qiita.com/s-kato/items/fc5df9955698222f5436

## `aria-label`属性

`aria-label=""`に指定した値がスクリーンリーダーにそのまま読み上げられます。
`aria-label`は次のような要素に指定してあげましょう。

### ページトップボタン

ボタンを押すと Web サイトの上部まで戻るボタンには`aria-label`属性をつけてスクリーンリーダーに適切に読み上げられるようにしましょう。

```html:index.html
<a href="#" aria-label="ページ上部へ戻る">
 <!--- 省略 -->
</a>
```

### ハンバーガーメニュー

一般的にはグローバルナビゲーションの役割を持つハンバーガーメニューですが、スクリーンリーダーにはどのようなボタンかが伝わりません。

```html:index.html
<button type="button" aria-label="メニューを開く">
 <!--- 省略 -->
</a>
```

## モーダル

Headless UI や Radix UI、Micromodal.js などの Web アクセビリティ(a11y)に対応した UI ライブラリやプラグインを使用する場合はあまり意識することはないのですが、1 からモーダルを自作するときはユーザーが Web サイト・Web アプリを快適に使用できるよう注意する必要があります。

※余談ですが、モーダルを実装する際は基本的なアクセシビリティ面をクリアでき、制作・開発コストを下げるためにもプラグインやライブラリを使って実装するべきだと私は考えています。

### esc キーでモーダルが閉じる

ハンバーガーメニューなども同じですが、モーダルは esc キーで閉じれるようにしましょう。
これまでは JavaScript で esc キーの開閉動作を制御していましたが、`dialog`要素の登場により、JavaScript の処理を省略することができるようになりました。
モーダルを実装する際は`dialog`要素で実装すると覚えておくと便利です。

### 裏のコンテンツにフォーカスを当てない

モーダルを開いているときに tab キーを押すと、モーダル内のコンテンツでフォーカスが循環するように実装する必要があります。
以下がわかりやすい例です。
https://azukiazusa.dev/blog/fucus-trap-accessible-modal/

`dialog`要素で実装することでこの問題は解決することができます。
ただ、`dialog`要素は古いバージョンのブラウザでは利用不可のことがあるようなので、注意が必要です。

次の記事で詳しく解説されていますので興味のある方はご覧ください。
https://ics.media/entry/220620/

### オーバーレイをクリックでモーダルが閉じる

モーダルを開いている時に、モーダル以外の要素（オーバーレイの部分）をクリックしたときはモーダルが閉じるようにすべきです。
基本的には JavaScript で制御することになりますが、次の記事で実装方法が紹介されていますので参考まで。
https://junpei-sugiyama.com/modal/

## スマホで`hover`を無効にする

`hover`スタイルは、スマホ（タッチデバイス）の場合はフォーカス状態のときにあたります。つまり、タッチした後もスタイルがそのまま残り続けるということです。

よくメディアクエリで hover の on・off を切り替えているのをみかけますが、幅の広いタブレットや幅の狭い PC では思わぬ挙動をしてしまうため、やめた方がいいです。

マウスかスマホのタッチ操作かの入力手段を区別するために`hover`はすべて次のように記述します。

```css:style.css
@media (hover: hover) {
  a:hover {
    opacity: 0.7;
    transition: ease 0.3s;
  }
}
```

上記の記述でマウス操作のときだけ hover のスタイルがあたることになります。

https://zenn.dev/kagan/articles/css-hover-style

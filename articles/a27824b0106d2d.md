---
title: "Astro.url.pathname ãŒæœ¬ç•ªç’°å¢ƒã§æ©Ÿèƒ½ã—ãªã„å•é¡Œã‚’è§£æ±ºã™ã‚‹"
emoji: "ğŸŒŠ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [astro]
published: true
---

## ç’°å¢ƒ

- Astro: 4.0.3
- Package manager: pnpm

## ç™ºç”Ÿã—ãŸãƒã‚°

è‰²ã€…ãª Web ã‚µã‚¤ãƒˆã§è¦‹ã‹ã‘ã‚‹ã€ç¾åœ¨ã® path ã¨ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã® path ãŒä¸€è‡´ã—ã¦ã„ã‚‹å ´åˆã«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤ºã™ã‚‹å®Ÿè£…ã‚’ `Astro.url.pathname`ã§å®Ÿè£…ã—ã¦ã„ãŸæ™‚ã«èµ·ã“ã£ãŸãƒã‚°(?)ã€‚

â†“ ã“ã‚“ãªã‚„ã¤ï¼ˆ /about ãƒšãƒ¼ã‚¸ã®ã¨ã ï¼‰
![](https://storage.googleapis.com/zenn-user-upload/d8d91030ed23-20231211.png)

:::details å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ï¼ˆCSS ã¯çœç•¥ï¼‰

```jsx:Menu.astro
---
const navItems = [
  {
    name: "Home",
    path: "/",
  },
  {
    name: "About",
    path: "/about",
  },
  {
    name: "Staff",
    path: "/staff",
  },
  {
    name: "Job",
    path: "/job",
  },
  {
    name: "Contact",
    path: "/contact",
  },
];

const active = Astro.url.pathname;
---

<nav class="menu">
  <ul class="list">
    {
      navItems.map(({ name, path }) => (
        <li class="listItem">
          <a href={path} class={active === path ? "active" : ""}>
            {name}
          </a>
        </li>
      ))
    }
  </ul>
</nav>
```

:::

ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã§é–‹ç™ºç’°å¢ƒã§ã¯æœŸå¾…é€šã‚Šãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤ºã•ã‚ŒãŸãŒã€ãƒ“ãƒ«ãƒ‰å¾Œã«ç¢ºèªã™ã‚‹ã¨ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã„ã‚‹æ™‚ã ã‘ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤ºã•ã‚Œä»–ãƒšãƒ¼ã‚¸ã§ã¯ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤ºã•ã‚Œãªã‹ã£ãŸã€‚

## è§£æ±ºæ–¹æ³•

è§£æ±ºæ³•ã¯ç°¡å˜ã§ã€path ã®æœ«å°¾ã«/ï¼ˆã‚¹ãƒ©ãƒƒã‚·ãƒ¥ï¼‰ã‚’ä»˜ã‘ã‚‹ã“ã¨ã§æœ¬ç•ªç’°å¢ƒã§ã‚‚æœŸå¾…é€šã‚Šã®è¦‹ãŸç›®ã‚’å†ç¾ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

:::details ä¿®æ­£å¾Œã®ã‚³ãƒ¼ãƒ‰

```jsx:Menu.astro
---
const navItems = [
  {
    name: "Home",
    path: "/",
  },
  {
    name: "About",
    path: "/about/", // æœ«å°¾ã«ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚’è¿½åŠ 
  },
  {
    name: "Staff",
    path: "/staff/", // æœ«å°¾ã«ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚’è¿½åŠ 
  },
  {
    name: "Job",
    path: "/job/", // æœ«å°¾ã«ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚’è¿½åŠ 
  },
  {
    name: "Contact",
    path: "/contact/", // æœ«å°¾ã«ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚’è¿½åŠ 
  },
];

const active = Astro.url.pathname;
---

<nav class="menu">
  <ul class="list">
    {
      navItems.map(({ name, path }) => (
        <li class="listItem">
          <a href={path} class={active === path ? "active" : ""}>
            {name}
          </a>
        </li>
      ))
    }
  </ul>
</nav>
```

:::

## åŸå› 

Astro ã¯é–‹ç™ºãƒ¢ãƒ¼ãƒ‰æ™‚ã€ URL ã«ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ãŒã¤ãå ´åˆã¯è‡ªå‹•çš„ã«æœ«å°¾ã«ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ãŒã¤ããŒã€æœ¬ç•ªç’°å¢ƒã§ã¯ãã®ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ãŒã¤ã‹ãªã„ãŸã‚ã€é–‹ç™ºæ™‚ã¨æœ¬ç•ªç’°å¢ƒã§ æœ«å°¾ã® URL ã«å·®ç•°ãŒç”Ÿã˜ã‚‹ã®ãŒåŸå› ã€‚

ä»¥ä¸‹ã®è¨­å®šã§ã€é–‹ç™ºæ™‚ã§ã‚‚ URL ã®æœ«å°¾ã«ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ãŒãªã„å ´åˆã¯ãƒšãƒ¼ã‚¸é·ç§»ã§ããªã„ã‚ˆã†ã«ãªã‚‹ã®ã§ã€æœ¬ä»¶ãŒè§£æ¶ˆã•ã‚Œã‚‹ã¾ã§ URL ã®æœ«å°¾ã«ã‚¹ãƒ©ãƒƒã‚·ãƒ¥ã‚’ã¤ã‘ã‚‹ç™–ã‚’ã¤ã‘ãŸæ–¹ãŒè‰¯ã•ãã†ã€‚

```js:astro.config.mjs
import { defineConfig } from "astro/config";

// https://astro.build/config
export default defineConfig({
  trailingSlash: "always",
});

```

â€»é–¢é€£ Issue
[https://github.com/withastro/astro/issues/4190](https://github.com/withastro/astro/issues/4190)
